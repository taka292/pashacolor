# 要件明確化チェックリスト

## 優先度: 高（開発開始前に決定必須）

### 1. 認証・ユーザー管理
- [ ] **認証方式**: Devise / Sorcery / 独自実装のどれにするか
- [ ] **ソーシャルログイン**: Google / Apple / Twitter の対応有無
- [ ] **ペア機能**: カップル向け機能の実装方法
  - 友達機能として実装するか
  - 専用のペア登録機能とするか
  - 1対1のペアのみか、グループも可能か

### 2. 色のお題システム
- [ ] **色の定義**: どの色を扱うか、RGB値・HEXコードの定義
  - 基本色: 赤、青、緑、黄、白、黒、紫、オレンジ、ピンク など
  - 色の数: 何色まで対応するか
- [ ] **お題の生成ロジック**:
  - ランダム生成か
  - 季節連動か（春→桜色、秋→紅葉色）
  - 天気連動か（晴れ→青、雨→透明）
  - ユーザーの投稿履歴を考慮するか
- [ ] **お題の有効期限**: 1日のみか、複数日有効か
- [ ] **お題の難易度**: 難易度設定はあるか

### 3. 画像ストレージ
- [ ] **開発環境**: Active StorageのローカルストレージでOKか
- [ ] **本番環境**: Renderのストレージ / AWS S3 / Cloudinary のどれにするか
- [ ] **画像サイズ制限**: 最大ファイルサイズ（例: 10MB）
- [ ] **画像形式**: JPEG, PNG, WebP のみか、GIFも対応するか
- [ ] **画像最適化**: 自動リサイズ・圧縮の有無

### 4. 位置情報機能
- [ ] **位置情報API**: Google Maps API / Mapbox API のどちらか
  - 料金比較が必要
  - 機能要件の確認
- [ ] **位置情報の取得方法**:
  - GPS自動取得か
  - 手動入力も可能か
- [ ] **位置情報の公開範囲**: 公開 / 友達のみ / 非公開
- [ ] **位置情報の保存期間**: 永続保存か、一定期間後に削除か

### 5. 天気連動機能
- [ ] **天気API**: OpenWeatherMap API / Weather API のどちらか
  - 料金比較が必要
  - 無料プランの制限確認
- [ ] **天気と色のマッピング**:
  - 晴れ → 青、青空
  - 雨 → 透明、水滴、グレー
  - 曇り → グレー、白
  - 雪 → 白
  - その他の天気パターン
- [ ] **天気連動の優先度**: 通常のお題より優先するか、補助的な提案か

---

## 優先度: 中（MVP後に検討）

### 6. 色の自動抽出機能
- [ ] **実装方法**: Cloud Vision API / 独自実装（ImageMagick等）
- [ ] **抽出する色の数**: 主要色1色か、複数色か
- [ ] **抽出精度**: どの程度の精度が必要か
- [ ] **コスト**: API利用料金の検討

### 7. ペアクエスト機能
- [ ] **開始方法**: 自動開始か、手動開始か
- [ ] **達成条件**: 2人とも同じ色を投稿する必要があるか
- [ ] **報酬**: 通常のスタンプとは別の報酬があるか
- [ ] **期限**: ペアクエストの有効期限

### 8. AIレコメンド機能
- [ ] **実装方法**: ルールベース / 機械学習 / 外部API
- [ ] **レコメンドの精度**: どの程度の精度が必要か
- [ ] **データ収集**: ユーザーの行動データを収集するか

### 9. 感情・出来事の色記録機能
- [ ] **感情の色マッピング**: 各感情に対応する色の定義
  - 嬉しい → 黄色、オレンジ
  - 悲しい → 青、グレー
  - 興奮 → 赤、ピンク
  - 落ち着き → 緑、青
  - その他の感情
- [ ] **記録方法**: テキスト入力 / 選択式 / スライダー
- [ ] **写真なしでもスタンプ獲得**: 可能か、別の報酬か

---

## 優先度: 低（将来の拡張）

### 10. ソーシャル機能
- [ ] **いいね機能**: 実装するか
- [ ] **コメント機能**: 実装するか
- [ ] **フォロー機能**: 実装するか
- [ ] **シェア機能**: SNS共有機能の有無

### 11. 通知機能
- [ ] **プッシュ通知**: 実装するか
- [ ] **通知内容**: お題の通知、ペアからの通知、その他
- [ ] **通知頻度**: 毎日 / 週1回 / カスタマイズ可能か

### 12. データエクスポート機能
- [ ] **エクスポート形式**: JSON / CSV / PDF
- [ ] **エクスポート内容**: 投稿データ、カラーパレット、スタンプ履歴

---

## デザイン・UI/UX

### 13. デザイン要件
- [ ] **カラーテーマ**: アプリ全体の色合い（明るい / 暗い / カラフル）
- [ ] **アイコン・イラスト**: オリジナルデザインか、既存のアイコンセットか
- [ ] **アニメーション**: どの程度のアニメーションを入れるか
- [ ] **ダークモード**: 対応するか

### 14. 画面構成
- [ ] **トップページ**: お題表示 + 投稿一覧の構成
- [ ] **ナビゲーション**: タブバー / サイドバー / ハンバーガーメニュー
- [ ] **投稿詳細**: モーダル / 別ページ

---

## 技術的な決定事項

### 15. パフォーマンス
- [ ] **画像最適化**: リサイズサイズ（例: 最大幅1080px）
- [ ] **ページ読み込み速度**: 目標値（例: 3秒以内）
- [ ] **同時接続数**: 想定ユーザー数

### 16. セキュリティ
- [ ] **画像検証**: NSFW検出の有無
- [ ] **レート制限**: API呼び出しの制限
- [ ] **CSRF対策**: Rails標準機能でOKか

### 17. 運用
- [ ] **ログ管理**: どの程度のログを残すか
- [ ] **エラー通知**: Sentry等の導入有無
- [ ] **バックアップ**: データベースのバックアップ頻度

---

## 次のステップ

1. **優先度: 高**の項目について、チームで議論して決定
2. 決定事項を `requirements.md` に反映
3. MVPの開発開始
4. 開発中に**優先度: 中**の項目を検討
5. MVPリリース後、**優先度: 低**の項目を検討




